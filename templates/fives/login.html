{% extends 'fives/base.html' %}
{% load staticfiles %}

{% block js_block %}
    <script type="text/javascript">
        $(document).ready(function() {
            $("#login_form").validate({
                rules: {
                    username: { // Must match the name attribute of the input field.
                        required: true,
                        minlength: 4
                    },
                    password: "required"
                },
                messages: {
                    username: {
                        required: "Please enter your username",
                        minlength: "Must be at least 4 characters long"
                    },
                    password: "Please enter your password"
                }
            });
        });
    </script>
{% endblock %}

{% block title_block %}
    Login
{% endblock %}

{% block body_block %}
<div class="row">
    <div class="col">
    </div>
    <div class="col-5">
    {% if user.is_authenticated %}
        <p>You are already logged in. Click below to return to the homepage.</p>
        <a href="{% url 'index' %}">Home</a>
    {% else %}
        <form class="form-signin" id="login_form" method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <h2 class="form-signin-heading">Please sign in</h2>
            <label for="username" class="sr-only" >Username</label>
            <input id="username" class="form-control" type="text" name="username" placeholder="Username" autofocus/>
            <label for="password" class="sr-only">Password</label>
            <input id="password" class="form-control" type="password" name="password" placeholder="Password"/>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
        </form>
        <div class="jquery_validation_form">
            <span class="error">{{ message }}</span>
        </div>
    {% endif %}
    </div>
    <div class="col">
    </div>
</div>
{% endblock %}
